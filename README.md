# Mouse Jitter AFK Bypass & Log Deleter

This package includes two tools:

1. **Mouse Jitter AFK Bypass** - Prevents AFK detection by periodically moving your mouse
2. **Log Deleter** - Automatically removes game log files to reduce detection risk

## Features

*   **Non-Disruptive**: Checks if the mouse is in the game window before jittering. If the mouse is outside, it centers it first.
*   **Configurable**: You can enable/disable it and set the jitter interval in the task settings.
*   **Relative Movement**: Uses relative mouse movement to ensure compatibility with game camera controls.

## Supported Tasks

*   **Auto Commission** (CommissionsTask)
*   **Auto Fish** (AutoFishTask)
*   **Auto Exploration** (AutoExploration / AutoExploration_Fast)
*   **Auto Dungeon** (ImportTask)
*   **Auto Defence** (AutoDefence)
*   **Auto Expulsion** (AutoExpulsion)

## Installation

### Method 1: Automatic Installation (Recommended)

1.  **Download** and extract the mousejitter folder
2.  **Double-click** `INSTALL.bat`
3.  **Confirm** the auto-detected ok-dna installation path (or enter it manually if needed)
4.  **Wait** for the installation to complete
5.  **Restart** ok-dna application

The installer will:
- Automatically detect your ok-dna installation
- Create a backup of your existing files (with timestamp)
- Copy all modified files to the correct locations
- Show progress for each file

### Method 2: Drag and Drop

1.  Copy the entire `src` folder from this directory
2.  Paste it into your `ok-dna` installation folder
3.  When prompted, choose to **merge/replace** the files
4.  Restart the ok-dna application

### Method 3: Manual Installation

If you prefer to copy files individually:

1.  Copy files from `src/tasks/` to your `ok-dna/src/tasks/` directory:
    - `CommissionsTask.py`
    - `AutoExploration.py`
    - `AutoDefence.py`
    - `AutoExpulsion.py`

2.  Copy files from `src/tasks/fullauto/` to your `ok-dna/src/tasks/fullauto/` directory:
    - `AutoFishTask.py`
    - `AutoExploration_Fast.py`
    - `ImportTask.py`

3.  Restart the ok-dna application

## Configuration

Each task now has a "Jitter Mode" setting with three options:

*   **Disabled**: No mouse jitter (default for safety)
*   **Always**: Jitter during navigation and combat phases
*   **Combat Only**: Jitter only during combat (recommended for most tasks)

You can also configure:
*   **External Movement Min Delay**: Minimum interval between jitters (default: 4 seconds)
*   **External Movement Max Delay**: Maximum interval between jitters (default: 8 seconds)
*   **External Movement Jitter Amount**: Maximum pixel distance to move mouse (default: 20)

## How to Use

1.  Open ok-dna and select a supported task
2.  In the task settings, find **"Jitter Mode"**
3.  Set it to **"Combat Only"** (recommended) or **"Always"**
4.  Adjust the delay and jitter amount if needed
5.  Start the task as normal

You'll see log messages like:
```
Triggering External Movement Logic...
Jittering mouse relative by (-127, 64)
```

This confirms the jitter is working!

## What's New

*   ✅ English translations for all task names and configurations
*   ✅ Consistent group names (Full-Auto and Semi-Auto) to prevent duplicate tabs
*   ✅ Fixed sound notification handling (respects "Play Sound Notification" setting)
*   ✅ Fixed Auto Exploration to not trigger map detection between rounds
*   ✅ Added jitter support to Auto Expulsion
*   ✅ Easy installer script for automatic installation

## Troubleshooting

**Duplicate tabs appearing?**
- Make sure you installed ALL the files, not just some of them
- The duplicate tabs occur when mixing old Chinese group names with new English ones

**Jitter not working?**
- Check that "Jitter Mode" is set to "Always" or "Combat Only" (not "Disabled")
- Look for "Triggering External Movement Logic..." in the logs
- Make sure the task is actually running (not paused)

**Installation failed?**
- Run `INSTALL.bat` as Administrator
- Make sure ok-dna is closed during installation
- Check that you have write permissions to the ok-dna folder

---

# Log Deleter (`log_deleter.py`)

A standalone utility script that automatically deletes log files generated by Duet Night Abyss to prevent detection and potential bans.

## Features

*   **Auto-Detection**: Automatically finds game installation and executable paths
*   **Multiple Deletion Modes**:
    *   **Once**: Delete logs once and exit (run before starting game)
    *   **Continuous**: Delete logs every 100ms (maximum safety during gameplay)
    *   **Periodic**: Delete logs every N minutes (balanced approach)
*   **Auto-Launch**: Optionally launches the game and ok-dna.exe when starting deletion
*   **GUI Interface**: User-friendly graphical interface with path validation
*   **Config Persistence**: Remembers your settings (paths, preferences) for next time

## What It Does

The script continuously monitors and deletes the following log folders:
*   `Logs` - Game log files
*   `PcUsdk\log` - SDK log files
*   `Config\CrashReportClient` - Crash report data

**Note**: `SaveGames` folder is explicitly excluded and never deleted.

## Usage

**GUI Mode (Recommended)**:
1. Double-click `log_deleter.py` to open the GUI.
2. Select your deletion mode (Once/Continuous/Periodic).
3. Optionally configure auto-launch settings.
4. Click "Start Deletion".

**Command Line Mode**:
```bash
# Delete once and exit
python log_deleter.py once

# Continuous deletion (100ms interval)
python log_deleter.py continuous

# Periodic deletion (every 5 minutes)
python log_deleter.py periodic --interval 5
```

## Configuration

Settings are saved to `log_deleter_config.json` in the same directory:
*   Game installation path
*   Game executable path
*   ok-dna.exe path

*   Launch enabled/disabled state
